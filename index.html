<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./libs/bootstrap.min.css">
  <link rel="stylesheet" href="./libs/app.css">
  <title>Selamat Datang di warung Areta</title>
</head>
<body>
  <main> 
    <div class="container py-4" id="app">
      <div class="row align-items-md-stretch">
        <div class="col-md-6">
          <div class="h-100 p-5 bg-light border rounded-3">
            <h2>Produk</h2>
            <div v-for="item in product" class="card mb-3 text-end" style="max-width: 540px;">
              <div class="row g-0">
                <div class="col-md-4">
                  <img :src='item.img' class="img-fluid rounded-start img-product" alt="Beng-beng">
                </div>
                <div class="col-md-8">
                  <div class="card-body">
                    <h5 class="card-title">{{item.name}}</h5>
                    <p class="card-text">Rp. {{item.price}}</p>
                    <a href="#" class="btn btn-primary btn-add"  v-on:click="addPrice(item)">Add</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="h-100 p-5 border rounded-3">
            <h2>Harga</h2>
            <div v-for="(item, index) in salesProduct" class="" style="max-width: 540px;">
              <div class="row">
                <div class="col-md-6">
                  <h3 class="">{{item.name}}</h5>
                </div>
                <div class="col-md-5 text-end">
                  <h3 class="">Rp. {{item.price}}</p>
                </div>
                <div class="col-md-1">
                  <h3 class=""  v-on:click="removeProducts(index)">-</h3>
                </div>
              </div>
            </div>
            <footer>
              <h2 class="text-end bg-info total-amount">
                Rp. {{totalPrice}}
              </h2>
              <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg" type="button"  v-on:click="clear()">Clear</button>
              </div>            
            </footer>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script src="./libs/bootstrap.bundle.min.js"></script>
  <script src="./libs/vue.js"></script>
  <script>
    new Vue({ 
      el: '#app',
      data() {
        return {
          product: [
            {
              name: 'Beng Beng',
              price: '2000',
              id: 'bengbeng',
              img: './imgs/bengbeng.png'
            },
            {
              name: 'Richeese',
              price: '1000',
              id: 'richeese',
              img: './imgs/richeese.png'
            },
            {
              name: 'Oreo',
              price: '1000',
              id: 'oreo',
              img: './imgs/oreo.png'
            },
            {
              name: 'Wafer Superstar',
              price: '1000',
              id: 'superstar',
              img: './imgs/superstar.png'
            }
          ],
          salesProduct: [],
          totalPrice: 0,
        }
      },
      methods: {
        addPrice (item) {
          this.salesProduct.push(item)
          this.calculatePrice()
        },
        removeProducts (index) {
          this.salesProduct.splice(index, 1)
          this.calculatePrice()
        },
        calculatePrice() {
          let price = 0
          this.salesProduct.forEach(item => {
            price += parseInt(item.price)
          })
          this.totalPrice = price
        },
        clear () {
          this.salesProduct= [],
          this.totalPrice = 0
        }
      }
    })
  </script>
</body>
</html>